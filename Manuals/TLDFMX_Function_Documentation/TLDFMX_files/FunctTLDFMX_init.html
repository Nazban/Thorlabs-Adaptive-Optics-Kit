<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
    <link rel="stylesheet" href="htmlhelp.css" type="text/css">
    <title>TLDFMX_init</title>
  </head>
  <body>
    <h1>TLDFMX_init</h1>
    <p class="syntax">
      ViStatus TLDFMX_init (ViRsrc resourceName, ViBoolean IDQuery,
                      ViBoolean resetDevice, ViPSession instrumentHandle);
    </p>
    <h2 class="purpose">Purpose</h2>
    <p class="body">
    This function initializes an extended instrument driver session (TLDFMX) and automatically initializes the base instrument driver (TLDFM) by calling its initialization function TLDFM_init internally.
    <br/>
    So the user must not call the base driver initialization function TLDFM_init separately.
    <br/>
    If parameter 'Reset Device' is VI_TRUE the base driver function TLDFM_reset is called internally.
    <br/>
    It performs the following initialization actions:
    <br/>
    (1) Opens a session to the Default Resource Manager resource and a session to the selected device using the Resource Name.
    <br/>
    (2) Performs an identification query on the Instrument.
    <br/>
    (3) Resets the instrument to a known state.
    <br/>
    (4) Sends initialization commands to the instrument.
    <br/>
    (5) Returns an instrument handle which is used to differentiate between different sessions of this instrument driver. This handle is valid for both, the base (TLDFM) and extended (TLDFMX) driver functions.
    <br/>
    Note: Each time this function is invoked an unique session is opened.
    <br/>
    Important:
    <br/>
    The extended driver functions are higher-level pure calculating functions which return voltage pattern only. These segment or spiral arm voltages are not set to the physical device automatically but need to be set separately by using base driver functions like TLDFM_set_segment_voltages, TLDFM_set_tilt_voltages or TLDFM_set_voltages.
    </p>
    <h2>Parameters</h2>
    <table class="borderless" summary="Parameter help">
      <tr>
        <td valign="top"><em class="label">Input</em></td>
      </tr>
      <tr>
        <td class="tablehead">Name</td>
        <td class="tablehead">Type</td>
        <td class="tablehead">Description</td>
      </tr>
      <tr>
        <td class="paramName">resourceName</td>
        <td class="paramDataType">ViRsrc</td>
        <td>
    This parameter specifies the interface of the device that is to be initialized. The exact syntax to be used for this parameter is shown in the note below.
    <br/>
    The resource string can be get from TLDFM_VI_FIND_RSC_PATTERN.
    <br/>
    Note: Replace 'SerialNumber' with the serial number of your device.
        </td>
      </tr>
      <tr>
        <td class="paramName">IDQuery</td>
        <td class="paramDataType">ViBoolean</td>
        <td>
    Performs an In-System Verification.
    <br/>
    Checks if the resource matches the DMP40 vendor and product id.
        </td>
      </tr>
      <tr>
        <td class="paramName">resetDevice</td>
        <td class="paramDataType">ViBoolean</td>
        <td>
    If VI_TRUE, it performs a reset operation and places the instrument in a pre-defined reset state by calling TLDFM_reset internally.
    <br/>
    Sets a mean voltage of 100V to each piezo segment and spiral arm.
        </td>
      </tr>
      <tr>
        <td valign="top"><em class="label">Output</em></td>
      </tr>
      <tr>
        <td class="tablehead">Name</td>
        <td class="tablehead">Type</td>
        <td class="tablehead">Description</td>
      </tr>
      <tr>
        <td class="paramName">instrumentHandle</td>
        <td class="paramDataType">ViSession (passed by reference)</td>
        <td>
    This parameter returns an instrument handle that is used in all subsequent calls to distinguish between different sessions of this instrument driver.
    <br/>
    Use this handle also for calling base driver functions (TLDFM).
        </td>
      </tr>
    </table>
    <h2>Return Value</h2>
    <table class="borderless" summary="Return value help">
      <tr>
        <td class="tablehead">Name</td>
        <td class="tablehead">Type</td>
        <td class="tablehead">Description</td>
      </tr>
      <tr>
        <td class="paramName">status</td>
        <td class="paramDataType">ViStatus</td>
        <td>
    Operational return status. Contains either a completion code or an error code. Instrument driver specific codes that may be returned in addition to the VISA error codes defined in VPP-4.3 and vendor specific codes, are as follows.
    <br/>
    Completition Codes
    <br/>
    ----------------------------------------------------------------
    <br/>
    VI_SUCCESS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialization successful
    <br/>
    VI_WARN_NSUP_ID_QUERY&nbsp;&nbsp;&nbsp;Identification query not supported
    <br/>
    VI_WARN_NSUP_RESET&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reset not supported
    <br/>
    Error Codes
    <br/>
    ----------------------------------------------------------------
    <br/>
    VI_ERROR_FAIL_ID_QUERY&nbsp;&nbsp;Instrument identification query failed
    <br/>
    VI_ERROR_SYSTEM_ERROR&nbsp;&nbsp;&nbsp;Unspecified driver error
    <br/>
    VI_ERROR_ALLOC&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Error during memory allocation
    <br/>
    VI_ERROR_INV_RESPONSE&nbsp;&nbsp;&nbsp;Invalid device response
    <br/>
    TLDFM_ERROR_CHECKSUM&nbsp;&nbsp;&nbsp;&nbsp;Answer checksum is wrong
    <br/>
    Vendor Specific Codes
    <br/>
    ----------------------------------------------------------------
    <br/>
    For error codes and descriptions see &lt;Error Message&gt;.
        </td>
      </tr>
    </table>
    <h2>References</h2>
    <p class="body">
      <a href="Thorlabs%20DFM%20Driver%20Extension.html">Thorlabs DFM Driver Extension</a><br/>
      <a href="Alphabetical%20Function%20Index.html">Alphabetical Function Index</a><br/>
      <a href="Hierarchical%20Function%20Index.html">Hierarchical Function Index</a><br/>
    </p>
  </body>
</html>